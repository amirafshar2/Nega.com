@*
    For more information on enabling MVC for empty projects, visit http://go.microsoft.com/fwlink/?LinkID=397860
*@




@* <div class="row" id="getcommentt">

    <div class="sidebar-item comments">
        <div class="sidebar-heading">
            <h2>Model.Count کامنت</h2>
        </div>
        <div class="col-lg-12" id="list">
            <ul class="ul">

                @* <li style="width:100%;">
                    <div class="col-lg-12" style="float:inline-start">
                        <div class="row">
                            <div class="col-lg-2">
                                <div class="author-thumb">
                                    <img src="~/image/Pack/item.user.Picture" alt="">
                                </div>
                            </div>
                            <div class="col-lg-10">
                                <div class="right-content">
                                    @*  @{
                                    TimeSpan timeSince = DateTime.Now - Date;
                                    string formattedTime = FormatTimeSpan(timeSince);
                                    } *@
                  @*                   <h4>item.user.Name  <span><small>time </small></span></h4>
                                    <p>item.Content</p>
                                </div>
                            </div>
                        </div>
                    </div>


                </li> *@ 

                @* <li class="replied">
                <div class="author-thumb">
                <img src="~/551/assets/images/comment-author-02.jpg" alt="">
                </div>
                <div class="right-content">
                <h4>Thirteen Man<span>May 20, 2020</span></h4>
                <p>In porta urna sed venenatis sollicitudin. Praesent urna sem, pulvinar vel mattis eget.</p>
                </div>
                </li>
                <a href="#" id="toggle-comments">...</a> *@
                @* $(document).ready(function() {
                $("#toggle-comments").click(function() {
                $("#comments ul").slideToggle("slow");
                });
                });*@

@* 
            </ul>
        </div>
    </div>

</div>  *@
@{
    int iid = @ViewBag.blogidd;
}

<div class="sidebar-heading">
    <h2>نظر شما</h2>
</div>
<form id="comment" >
    <input type="hidden" name="BlogId" id="blogid" value="@iid" />
    <div class="row">
        <div class="col-lg-12">
         
                <textarea name="Content" rows="6" id="content" placeholder="نطر خود را بویسید" required=""></textarea>
          
        </div>
        <div class="col-lg-12">
           
                <button id="subbtn"  style="background-color: #5fc3b1; cursor:pointer;" class="btn main-button">Submit</button>
            
        </div>
        <div id="res" style="display: none;"></div>
    </div>
</form>


<script>
    $("#subbtn").on("click", function () {
        console.log("btn");
        //const commentData = {
        //    blogId: $("#blogid").val(),
        //    content: $("#content").val()
        //};

        //$.ajax({
        //    url: '@Url.Action("CreateComment", "BlogDet")', // AJAX isteğinin doğru URL'si
        //    type: "POST",
        //    contentType: "application/json",
        //    data: JSON.stringify(commentData),
        //    success: function (response) {
        //        $("#res").show().text("کامنت ثبت شد");
        //        $("#res").css("color", "green");
        //        $("#content").val(""); // İçeriği temizler
        //        console.log("کامنت ثبت شد");
        //        setTimeout(function () {
        //            $("#res").css("display", "none");
        //        }, 10000); // 10 saniye
        //    },
        //    error: function () {
        //        $("#res").css("color", "red");
        //        $("#res").text("لطفا بعد امتحان کنید").show();
        //        setTimeout(function () {
        //            $("#res").css("display", "none");
        //        }, 10000); // 10 saniye
        //    }
        //});
    });
    @functions {
        string FormatTimeSpan(TimeSpan timeSpan)
        {
            if (timeSpan.TotalSeconds < 60)
            {
                return "چند ثانیه قبل";
            }
            else if (timeSpan.TotalMinutes < 60)
            {
                return $"{(int)timeSpan.TotalMinutes} دقیقه قبل";
            }
            else if (timeSpan.TotalHours < 24)
            {
                return $"{(int)timeSpan.TotalHours} ساعت قبل";
            }
            else if (timeSpan.TotalDays < 7)
            {
                return $"{(int)timeSpan.TotalDays} روز قبل";
            }
            else
            {
                int weeks = (int)(timeSpan.TotalDays / 7);
                return $"{weeks} هفته قبل";
            }
        }
    }
</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>